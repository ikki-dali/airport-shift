# ホーム画面 概念設計

## 1. 背景と問題意識

現状のホームは「充足率」「人手不足○日」「承認待ち」などを**最初に**見せる構成になっている。  
朝一でこの画面を開いたとき、「人手不足です」と出ても**「どうしよう」**となり、アクションに結びつきにくい。

**ホームは「問題を突きつける画面」ではなく、「今日の状況を確認して安心する画面」であるべき**、という前提で設計を見直す。

---

## 2. ユーザーストーリー（ホームを開く瞬間）

### 主なユーザーとシナリオ

| 誰が | いつ | 何をしたい | 得たい結果 |
|------|------|------------|------------|
| 現場責任者・管理者 | 朝、出勤時や業務開始時 | 今日誰がどこにいるか把握したい | 「誰々がここにいる。確認できた」という安心 |
| 同じく | 日中の切り替え時 | 今どの配置に誰がいるか確認したい | 現時点の配置・勤務中の顔ぶれが一目で分かる |
| 同じく | 夕方・終業前 | 今日のシフトが想定どおりか振り返りたい | 問題なければ「お疲れさま」で終えられる |

### ストーリーの要約

- **As a** 現場責任者 / 管理者  
- **I want to** ホームを開いたときに「今日誰がどこにいるか」がすぐ分かる  
- **So that** 「誰がいるか確認できた」と安心して一日を始めたり、切り替えや振り返りができる  

→ **ホームの主目的は「確認・把握」であり、「人手不足です」といった問題提起は主役にしない。**

---

## 3. ホームの位置づけ（設計原則）

1. **「確認」の画面**
   - 主メッセージ: 「誰が・どこに・今どういう状態か」が分かる。
   - 朝見て「誰々がここにいるんだね、はい、確認できました」で終われるようにする。

2. **「問題」は別導線**
   - 人手不足・充足率・承認待ちなどの**アクションを促す情報**は、ホームの第一ビューではなく、別画面（シフト作成・要員募集・承認一覧など）や、ホーム内の「詳しく見る」導線に寄せる。
   - ホーム上では「今日の顔ぶれと配置」が主、問題指標は控えめ or サマリのみ。

3. **今日（Today）を主役に**
   - 最初に見えるのは「今日」の配置・勤務一覧。
   - 今週・今月は「確認」の延長（見たい人向け）として、タブや折りたたみで提供。

---

## 4. 情報の優先順位（案）

| 優先度 | 内容 | ホームでの扱い |
|--------|------|----------------|
| 1 | **今日、誰がどの配置にいるか**（氏名・配置・時間帯・勤務中かどうか） | 第一ビュー。表やカードで「誰がどこにいるか」が一目で分かる |
| 2 | **今、勤務中は何人か**（サマリ） | 今日の見出し近くに短いサマリ（例:「勤務中 12人」） |
| 3 | 今日の確定/仮の内訳 | 必要なら小さく表示（例: 確定○ 仮○）。主役にはしない |
| 4 | 今週・翌週・今月・翌月の予定 | セクションで「This Week / Next Week」「This Month / Next Month」を並べ、日付範囲は見出しと同じ行に表示 |
| 5 | 充足率・人手不足日数・承認待ち | ホームのトップには出さない。別ページまたは「詳細」リンク先で扱う |

---

## 5. 画面構成案（ワイヤーレベル）

### 5.1 第一ビュー（ファーストビュー）

- **見出し**: 「今日 ○月○日(○)」＋ 短いサマリ（例: 勤務中 12人 / 確定○ 仮○）
- **メイン**: 今日のシフト一覧（配置別・時間帯・氏名・勤務中マーク）
  - 「誰がどこにいるか」が主で、不足スロットは行として混ぜず、別エリア or 別画面に寄せる案も可
- **トップに置かないもの**: 充足率バー、人手不足○日、承認待ち○件（これらは別導線へ）

### 5.2 サブセクション（This Week / Next Week / This Month / Next Month）

- **日付範囲を見出しと同じ行に**: 各セクションの見出し行に「タイトル ＋ 日付範囲」を同一行で表示し、スクロールせずに範囲が分かるようにする。
  - 例: `This Week` ＋ `3/1〜3/7`、`This Month` ＋ `2025年3月`
- **This Week の存在意義**: 今週の各日が何人入っているかをパッと確認。クリックで日別詳細。見るべき情報は「日付範囲（同じ行）」「曜日・日付・その日の人数（割当/必要）」「今日のハイライト」。
- **Next Week の存在意義**: 次の週がどのくらいシフトで埋まっているかをパッと見る。**縦に積まず横スクロール**で This Week / Next Week / … を並べ、スクロールでいつまでも先の週に手が伸ばせる。
- **This Month の存在意義**: 今月のカレンダーで日別の人数を確認。クリックで日別詳細。見出し行に「yyyy年M月」を同じ行に。
- **Next Month の存在意義**: 次の月がどのくらいシフトで埋まっているかをパッと見る。**縦に積まず横スクロール**で This Month / Next Month / … を並べ、スクロールで先の月に手が伸ばせる。
- **「人手不足」「承認待ち」など**: リンクや小さなバッジで「シフト作成」「要員募集」「承認一覧」などに飛ばす。

### 5.3 StatBar の扱い（案）

- **A案**: ホームから StatBar（充足率・人手不足日・承認待ち）を外し、シフト作成画面や「運営サマリ」専用ページに移す。
- **B案**: ホームの**下の方**に小さく「今月のサマリ」として置き、第一ビューでは今日の配置だけが目立つようにする。
- **C案**: 同じデータを「通知バッジ」程度にし、クリックでシフト作成・承認画面へ誘導する。

→ いずれも「朝一で問題を突きつけない」を満たす方向で選ぶ。

---

## 6. 今日タブ（Today）の調整方針

- **主役**: 「誰が・どの配置に・何時〜何時・今勤務中か」の一覧。
- **不足スロット**: 「要員不足」行を表のなかに混ぜる現状は、ホーム＝確認の原則と相性が悪い。
  - 不足は「別ブロック（例: 今日の不足サマリ）」にまとめる、または「シフト作成で確認」に誘導する形を検討。
- **色・文言**: 勤務中・確定/仮はそのままにしつつ、赤の「要員不足」「○人不足」は第一ビューでは弱める or 別画面に寄せる。

---

## 7. 次のステップ（実装に落とすとき）

1. **ユーザーストーリーの合意**: 上記ストーリーと優先順位で関係者と認識を揃える。
2. **StatBar の配置決定**: A/B/C のどれにするか、または折衷を決める。
3. **Today の情報構成**: 「誰がどこにいるか」を最優先にしたレイアウトに変更し、不足表示の位置・強さを調整する。
4. **不足・承認の導線**: ホームからシフト作成・要員募集・承認一覧へのリンク/バッジを明示する。
5. **必要なら**: 既存 TICKET（例: TICKET-037, TICKET-053）と統合し、チケット単位でタスク化する。

---

## 8. まとめ

- **ホーム = 「誰がどこにいるか確認できた」で終われる画面**にする。
- ユーザーストーリーは「朝・日中・夕方に、今日の顔ぶれと配置を確認して安心したい」に合わせる。
- 人手不足・充足率・承認待ちは**ホームの主役にせず、別導線で扱う**。
- 第一ビューは「今日」の配置一覧を主役にし、不足表示は控えめ or 別ブロック/別画面とする。

この方針で詳細ワイヤーやコンポーネント単位の仕様を詰めていく想定。
